"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var exit_codes_1 = require("./exit-codes");
var prepend_ignite_1 = require("./prepend-ignite");
/**
 * Checks whether a plugin name was given and errors if not.
 * Also prepends `ignite-*` if plugin name didn't include it.
 */
exports.default = (function (pluginName, toolbox) {
    var strings = toolbox.strings, print = toolbox.print;
    pluginName = pluginName.toLowerCase();
    if (strings.isBlank(pluginName)) {
        print.info("ignite plugin new ignite-foo\n");
        print.error('Plugin name is required');
        process.exit(exit_codes_1.default.PLUGIN_NAME);
    }
    // TODO: Make this better at detecting invalid plugin names
    if (!/^[a-z0-9].*/i.test(pluginName)) {
        print.error('Plugin name should be a valid folder name');
        process.exit(exit_codes_1.default.PLUGIN_NAME);
    }
    // Force prepend `ignite-*` to plugin name
    return prepend_ignite_1.default(pluginName);
});
//# sourceMappingURL=validate-name.js.map