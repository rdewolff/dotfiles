"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const FileTask_1 = require("./FileTask");
class Manipulator extends FileTask_1.FileTask {
    addImport(module, name) {
        const importString = `import ${name} from '${module}';\n`;
        return this
            .modify(/.*?import .+;\n(?=\n)/im, { append: importString })
            .modify(/^(?!import)/, { prepend: importString });
    }
    addNamedImport(module, name) {
        return this
            .modify(new RegExp(`import ([^{}]+)(?= from ['"]${module}['"];?)`, 'g'), { append: `, { ${name} }` })
            .modify(new RegExp(`^import (?:\\w+, )?{(\\n\\s+)?(?![^}]*\\b${name}\\b)([\\w ,\\n]+)(?=\\b\\s?} from ['"]${module}['"];?$)`, 'gm'), { custom: (match, newline) => `${match},${newline || ' '}${name}` });
    }
}
exports.Manipulator = Manipulator;
//# sourceMappingURL=Manipulator.js.map